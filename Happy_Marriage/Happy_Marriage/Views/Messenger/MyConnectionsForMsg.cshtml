@model Profile_Mini
@using System.Text.Json
@{
    string con = ViewData["MyConnections"].ToString();
    List<Profile_Mini> myconns = null;
    if (con != null)
    {
        myconns = JsonSerializer.Deserialize<List<Profile_Mini>>(con);
    }
}
<div class="container-fluid">
    @if (myconns == null)
    {
        <h1>Something Went Wrong</h1>
    }
    else if (myconns.Count == 0)
    {
        <h1>You have no connections yet</h1>
    }
    else
    {
        foreach (var conn in myconns)
        {
            <form>
                <input type="hidden" value=@conn.UserId id="userid" name="userid" />
                <button class="d-none" asp-action="ChatBox" asp-controller="Messenger">
                    <div class="row">
                        <div class="col"><img src=@conn.ImageUrl height="30" /></div>
                        <div class="col">@conn.UserName</div>
                    </div>
                </button>
                
            </form>
        }
    }
</div>